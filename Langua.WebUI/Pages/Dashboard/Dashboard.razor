 @page "/"
@page "/Manager/"
@page "/dashboard"
@inherits DashboardComponent
@using Langua.Models
@using Langua.Repositories.Services
@using Microsoft.AspNetCore.Authorization
@layout WebUI.Pages.Layout.SideMainLayout


 @attribute [Authorize(Roles = "ADMIN,MANAGER")] 

 <style>

 </style>

<PageTitle>LanguaLink| @L["Admin Dashboard"]</PageTitle>
<HeadContent>
    <meta name="description" content="Rich dashboard created with the Radzen Blazor Components library.">
</HeadContent>
<RadzenRow>
    <RadzenColumn Size="12">
        <div class="container-fluid dashboard-container">
            <RadzenRow class="Cards">                
                <RadzenColumn Size="3"  SizeSM="6">
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;" Icon="groups"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Users"]</div>
                            <div class="card-value">@NbUsers</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>

                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:purple;" Icon="person" ></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Teachers"]</div>
                            <div class="card-value">@NbTeacher</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>


                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:darkslategrey;" Icon="co_present"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Candidates"]</div>
                            <div class="card-value">@NbCandidat</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>

                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:darkorange;" Icon="diversity_3"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Groupes"]</div>
                            <div class="card-value">@NbGroups</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>
                
                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:darkslateblue;" Icon="account_circle"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Managers"]</div>
                            <div class="card-value">@NbManagers</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>
                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:firebrick;" Icon="domain"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Departments"]</div>
                            <div class="card-value">@NbDepartements</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>
                <RadzenColumn Size="3" SizeSM="6" >
                    <RadzenCard class="dashboard-card recieved-card">
                        <div class="card-icon">
                            <RadzenIcon Style="font-size: 45px;color:darkslategray;" Icon="school"></RadzenIcon>
                        </div>
                        <div class="card-content">
                            <div class="card-label">@L["Nb Teacher / Groupes"]</div>
                            <div class="card-value">@NbGrTeachers</div>
                            <div class="card-trend positive">
                                @* <i class="fas fa-arrow-up"></i> 5% from last month *@
                            </div>
                        </div>
                    </RadzenCard>
                </RadzenColumn>
            </RadzenRow>
        </div>
    </RadzenColumn>
</RadzenRow>

<div class="py-4">
    <RadzenStack Gap="1rem" Style="position: relative">
    <RadzenRow>
        <RadzenColumn Size="6">
            <div class="rz-p-0 rz-p-md-12 w-100">
                <RadzenChart Style="width:100%" class="bg-red">
                    <RadzenColumnSeries Data="@GroupsStat" Fill="Purple" Stroke="purple" Title="@L["Nombre Candidates By Group"]" StrokeWidth="0" CategoryProperty="GroupName" ValueProperty="NbCans" />
                    <RadzenColumnOptions Radius="5" Width="50" />
                    <RadzenLegend Position="LegendPosition.Bottom" />
                    
                    <RadzenCategoryAxis Padding="20" />
                    @* <RadzenColumnSeries Data="@revenue2" CategoryProperty="Quarter" ValueProperty="Revenue" /> *@
                </RadzenChart>
            </div>
        </RadzenColumn>
        <RadzenColumn Size="6">
            <RadzenChart>
                    <RadzenPieSeries Data="@NbSessionByGroups"  Title="@L["Nb Session For Group"]" CategoryProperty="GroupName" ValueProperty="NbSessions">
                    <RadzenSeriesDataLabels Visible="true" />
                    <RadzenLegend Visible="true" />
                </RadzenPieSeries>
            </RadzenChart>
            <RadzenLabel Text="@L["Nb Session For Group"]" class="mx-auto text-center" />
        </RadzenColumn>
    </RadzenRow>
</RadzenStack>
</div>
